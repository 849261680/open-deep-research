{
    // Ruff 扩展配置
    "ruff.enable": true,
    "ruff.importStrategy": "fromEnvironment",
    "ruff.configuration": "./pyproject.toml",
    "ruff.fixOnSave": true,
    "ruff.organizeImports": true,

    // Python 配置
    "python.defaultInterpreterPath": "./.venv/bin/python",
    "[python]": {
        "editor.formatOnSave": true,
        "editor.defaultFormatter": "charliermarsh.ruff",
        "editor.codeActionsOnSave": {
            "source.fixAll": "explicit",
            "source.organizeImports": "explicit"
        }
    },

    // 禁用 Pylance 的类型检查，改用 ty
    "python.analysis.typeCheckingMode": "off",
    "python.analysis.diagnosticMode": "openFilesOnly",

    // 诊断配置
    "python.analysis.diagnosticSeverityOverrides": {
        "reportUnusedImport": "error",
        "reportUndefinedVariable": "error"
    },

    // Python 分析配置
    "python.analysis.autoImportCompletions": true,

    // 性能和优化
    "files.watcherExclude": {
        "**/.git/objects/**": true,
        "**/.git/subtree-cache/**": true,
        "**/node_modules/**": true,
        "**/__pycache__/**": true,
        "**/*.pyc": true,
        "**/venv/**": true,
        "**/.venv/**": true,
        "**/.ruff_cache/**": true,
        "**/.ty_cache/**": true
    },

    // 在启动时自动运行 ty watch 模式
    "tasks.autoDetect": "on",

    // 问题面板配置
    "problems.autoReveal": true,
    "problems.showCurrentInStatus": true
}
